!!! External Authentication Plug-in for FreeStyle Wiki

<<本モジュールはベータ版です。>>

* FreeStyle Wiki のユーザ認証をローカル認証ではなく、外部のモジュールを用いて行うことができます。
* Apache モジュールとの組み合わせで、Basic 認証や LDAP、RDB、RADIUS などとの認証統合が容易に実現できます。

!! 提供されている機能

* 認証を外部の認証モジュールに委譲するためのプラグインが提供されています。
* デフォルトで、Apache の Basic / Digest 認証 (htpasswd, LDAP など) との連携を行う認証モジュール (Perl CGI) が付属しています。

!! 認証の流れ

+ Wiki で「ログイン」をクリックします (action=LOGIN)。
+ 本プラグイン、指定された認証モジュールへリダイレクトします。
+ 認証モジュール画面で認証を行います。
** Apache 連携のための認証モジュール (login.cgi) はデフォルトで添付されています。それ以外の認証方法を使用したい場合は、login.cgi をベースに認証モジュール (Perl CGI) を作成する必要があります。
+ 認証に成功すると認証モジュールが Cookie を発行し、Wiki にログインした状態 (メニュー表示) となります。

!! プラグイン本体のカスタマイズ

* Login.pm: 認証モジュールの名前を login.cgi 以外に設定する場合は $LOGIN_MODULE_NAME を変更してください。

!! 認証モジュールのカスタマイズ

login.cgi の以下のパラメタ値により動作を変更できます。

* $DEFAULT_TYPE: 認証されたユーザのデフォルトの権限を管理者(0)または一般ユーザ(1)に設定します。
* $OVERRIDE_TYPE: 認証されたユーザと同名のユーザがローカルユーザ一覧に存在する場合は、$DEFAULT_TYPE ではなくローカルユーザの権限を優先して使用します。一部のユーザにのみ管理者権限を与えたい場合に便利です。
* $LOCAL_MANDATORY: 認証されたユーザと同名のユーザがローカルユーザ一覧に存在しない場合、認証を拒否します。
* $FALLBACK_TO_LOCAL: 外部認証モジュールによる認証が失敗した場合は、同一のユーザ名とパスワードを使用してローカルユーザとしてログインを試みます。Apache モジュール連携ではこの機能は使用できません。

Apache 連携以外の方法で外部認証システムとの連携を行う場合は、login.cgi の get_input(), login_external() サブルーチンをカスタマイズしてください。

!! 制約

* このバージョンの本プラグインは Wiki Farm では動作しません。
